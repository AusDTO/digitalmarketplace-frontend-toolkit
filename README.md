# Digital Marketplace front-end toolkit

A toolkit for design patterns used across Digital Marketplace projects.

## Using the design patterns

**The patterns can be previewed at [alphagov.github.io/digitalmarketplace-frontend-toolkit/](http://alphagov.github.io/digitalmarketplace-frontend-toolkit/)**

Each pattern provides:
- A template (in Jinja)
- SASS
- Javascript (if needed)
- Images (if needed)

How you manage this dependency and integrate it into a build pipeline are up to
you.

## Working on the documentation

The documentation is generated from the contents of this repository and published as
static HTML to Github Pages.

### Static assets

The pages use `pages` as the root directory so you can include any assets from `/pages/public/javascripts` or `/pages/public/images` directly. If `pages` is not your root directory then you need to set the path to
'pages' in an environment variable, eg: `ROOT_DIRECTORY='/digitalmarketplace-frontend-toolkit'`

### YAML examples

Examples of each pattern are defined in the `./pages_builder/pages` folder. They are YAML files which
show what parameters you can pass to a template. The examples in the documentation are generated from
these files.

### Templates

Templates are found in the `./toolkit/templates` folder. Their naming matches the naming of the example markup files.
They will be rendered once for each of the provided examples, using the provided examples' data.

### Sass compilation

The Sass compilation takes files from `scss` and renders CSS files in `pages/public/stylesheets`.

The `./scss`, `govuk_frontend_toolkit/stylesheets` and `./build_tools/assets` folders are included in the load path so you can import any files from them.

## Running the documentation locally

The documentation pages can be generated by following these steps.

### Requirements

- Python
- [PIP](https://pip.pypa.io/en/latest/)
- [virtualenv](https://virtualenv.pypa.io/en/latest/)

### Set up a virtualenv

To set up an isolated environment for the project, run these commands:

```
virtualenv ~/Envs/digitalmarketplace-frontend_toolkit
source ~/Envs/digitalmarketplace-frontend_toolkit/bin/activate
```

*Note*: you can set the virtualenv to any location on your system by swapping out `~/Envs/digitalmarketplace-frontend_toolkit` to your choice of folder.

### Install the dependancies

```
pip install -r ./pages_builder/requirements.txt
```

### Generate the pages

```
python pages_builder/generate_pages.py
```

### Run the server

```
cd pages
python -m SimpleHTTPServer
```
â€¦then visit http://localhost:8000 to see the documentation

### Overwrite the documentation on Github Pages with your local copy

_Only Jenkins or similar should be performing this step_

```
sh build_tools/push_to_github_pages.sh
```
